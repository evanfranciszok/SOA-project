@startuml
actor user
component webpage as ui
rectangle "Kubernetes" {
    component "Meal planning webserver" as web
    component "Meal Planning Service" as mealplan
    database "planning database" as pdb
    component "Recipe Suggestion Service" as suggest
    component "Inventory Management Service" as inventoryser
    database "Inventory database" as idb
    component "Shopping List Optimization" as shoplist
    component "User Profile Service" as userprof
    database "user preference database" as updb
    collections "Albert Heijn and Jumbo Price Services" as supermarket
    queue activeMQ as shopQueue
    queue activeMQ as suggestQueue
    queue activeMQ as priceQueue
}

user -right-> ui
ui <--> web
web .(0. "HTTP" userprof
web .(0. "HTTP" shoplist
web .(0. "HTTP" mealplan
web .(0. "HTTP" inventoryser
mealplan ..> suggestQueue 
suggestQueue ..> suggest
mealplan .(0. "HTTP" inventoryser
mealplan ..> shopQueue
shopQueue ..> shoplist
suggest .(0. "HTTP" userprof
shoplist ..> priceQueue 
priceQueue ..> supermarket

mealplan --> pdb
userprof --> updb
inventoryser --> idb
@enduml